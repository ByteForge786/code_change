output_dir = os.path.dirname(source_file)

# Remove the final parameter from the directory path
output_dir_parts = output_dir.split(os.path.sep)
output_dir = os.path.join(*output_dir_parts[:-1])

# Write predicted pairs to a CSV file in the same directory as the source file
output_file = os.path.join(output_dir, "predicted_pairs.csv")
with open(output_file, mode='w', newline='') as file:
    writer = csv.writer(file)
    
    # Write header
    writer.writerow(["Source Column", "Target Column", "Score"])
    
    # Write predicted pairs
    for pair_tuple in predicted_pairs:
        writer.writerow(pair_tuple)

print("Predicted pairs saved to", output_file)
